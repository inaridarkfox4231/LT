<!-- canvasで線型変換の実験をしてみる -->
<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>線型変換の実験</title>
    <style>
    * {padding: 0; margin: 0}
    canvas { background: #eee; display: block; margin: 0 auto;}
    </style>
    <script src="https://frogcat.github.io/canvas-arrow/canvas-arrow.js"></script>
  </head>
  <body>
    <canvas id = "myCanvas" width = "480" height = "320"></canvas>
    <script>
      var canvas = document.getElementById("myCanvas");
      var ctx = canvas.getContext("2d");
      ctx.strokeStyle = "red";
      ctx.strokeRect(40, 40, 20, 20);
      var rad = 15 * Math.PI / 180;
      ctx.setTransform(Math.cos(rad), Math.sin(rad), -Math.sin(rad), Math.cos(rad), 0, 0);  // 15°の回転
      ctx.strokeStyle = "blue";
      ctx.strokeRect(40, 40, 20, 20);
      ctx.setTransform(3, 1, -1, 3, 0, 0);  // 線型変換を定義し直す
      ctx.strokeStyle = "black";
      ctx.strokeRect(30, 30, 10, 10);
      ctx.setTransform(1, 0, 0, 1, 0, 0); // リセットする。
      ctx.beginPath();
      ctx.arrow(0, 0, 200, 100, [0, 1, -10, 1, -10, 5]);
      ctx.fill();
    </script>
  </body>
</html>
